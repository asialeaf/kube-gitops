apiVersion: v1
kind: Pod
metadata:
  labels:
    app: gitops
  name: demo-gitops
  namespace: default
spec:
  securityContext:
    runAsUser: root
    runAsGroup: root
  containers:
  - command:
    - sh
    - -c
    - /gitops.sh
    image: kubectl:v1.0
    imagePullPolicy: IfNotPresent
    name: gitops
    resources:
      limits:
        cpu: 2
        memory: 400Mi      
      requests:
        cpu: 1
        memory: 200Mi
  restartPolicy: Never
  nodeSelector: 
    kubernetes.io/hostname: k8s-master
  tolerations:
  - effect: NoSchedule
    operator: Exists
apiVersion: v1
kind: Pod
metadata:
  labels:
    app: gitops
  name: demo-gitops
  namespace: default
spec:
  containers:
  - command:
    - /bin/bash
    - -c
    - /gitops.sh
    image: kubectl:v1.0
    imagePullPolicy: IfNotPresent
    name: gitops
    resources:
      limits:
        cpu: 2
        memory: 400Mi      
      requests:
        cpu: 1
        memory: 200Mi
    # volumeMounts:
    # - mountPath: /root/.kube/config
    #   name: kubeconfig
    #   readOnly: true
  restartPolicy: Never
  nodeSelector: 
    kubernetes.io/hostname: k8s-master
  tolerations:
  - effect: NoSchedule
    operator: Exists
  # volumes:
  # - hostPath:
  #     path: /root/.kube/config
  #     type: FileOrCreate
  #   name: kubeconfig